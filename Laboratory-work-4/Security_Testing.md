# Тестування безпеки

### Огляд практики безпеки
Практика тестування безпеки (ST) використовує той факт, що, хоча автоматизоване тестування безпеки є швидким і добре масштабується для багатьох програм, поглиблене тестування, засноване на гарному знанні програми та її бізнес-логіки, часто можливе лише за допомогою повільнішого, ручного експертного захисту тестування. Тому в основі кожного потоку є один підхід.

Перший потік зосереджений на створенні загальної базової лінії безпеки для автоматичного виявлення так званих «низько висячих плодів». Поступово налаштовуйте автоматизовані тести для кожної програми та збільшуйте частоту їх виконання, щоб виявляти більше помилок і регресій раніше, якомога ближче до їх появи. Чим більше помилок можуть виявити автоматизовані процеси, тим більше часу експерти матимуть на використання своїх знань і креативності, щоб зосередитися на складніших векторах атак і забезпечити поглиблене тестування додатків у другому потоці. Оскільки перевірка вручну є повільною та важкою для масштабування, рецензенти визначають пріоритетність компонентів тестування на основі їх ризику, останніх відповідних змін або майбутніх основних випусків. Організації також можуть отримати доступ до зовнішньої експертизи, беручи участь, наприклад, у програмах винагороди за помилки.

На відміну від практики тестування на основі вимог, яка зосереджена на перевірці того, що додатки правильно реалізують свої вимоги, мета цієї практики полягає у виявленні технічних і бізнес-логічних недоліків у додатку та надання їх видимості керівництву та зацікавленим сторонам бізнесу, незалежно від вимог.


---
| Рівень зрілості | Потік A | Потік B |
| --- | --- | --- |
|| Масштабована базова лінія | Глибоке розуміння |
|1. Виконайте тестування безпеки (як вручну, так і за допомогою інструментів), щоб виявити дефекти безпеки.| Використовуйте автоматизовані засоби тестування безпеки. | Виконайте вручну перевірку безпеки компонентів із високим ризиком. |
|2. Зробіть тестування безпеки під час розробки більш повним і ефективним завдяки автоматизації, доповненій регулярними ручними тестами проникнення в систему безпеки.| Використовуйте автоматизацію тестування безпеки для конкретної програми. | Провести тестування на проникнення вручну. |
|3. Вставте тестування безпеки як частину процесів розробки та впровадження.|Інтегруйте автоматичне тестування безпеки в процес збірки та розгортання. | Інтегруйте тестування безпеки в процес розробки. |

---

#### Потік A: Масштабована базова лінія
Рівень зрілості 1
##### Вигода:
Виявлення поширених вразливостей, які легко знайти.
##### Діяльність:
Використовуйте автоматизовані статичні та динамічні інструменти тестування безпеки для програмного забезпечення, що забезпечує більш ефективне тестування безпеки та вищу якість результатів. Поступово збільшуйте частоту тестів безпеки та розширюйте охоплення коду.

Тестування безпеки програми можна виконувати статично, перевіряючи вихідний код програми без його запуску, або динамічно, просто спостерігаючи за поведінкою програми у відповідь на різні умови введення. Перший підхід часто називають статичним тестуванням безпеки додатків (SAST), другий — динамічним тестуванням безпеки додатків (DAST). Гібридний підхід, відомий як інтерактивне тестування безпеки додатків (IAST), поєднує в собі сильні сторони обох підходів (ціною додаткових накладних витрат) шляхом динамічного тестування автоматично інструментованих програм, що дозволяє точно контролювати внутрішній стан програми у відповідь на зовнішній вхід.

Багато вразливостей безпеки дуже важко виявити без ретельної перевірки вихідного коду. Незважаючи на те, що в ідеалі це виконується експертним або експертним оглядом, це повільне та дороге завдання. Незважаючи на те, що автоматизовані інструменти SAST є «шумнішими» та часто менш точними, ніж перевірки під керівництвом експертів, вони дешевші, набагато швидші та послідовніші, ніж люди. Ряд комерційних і безкоштовних інструментів здатні ефективно виявляти достатньо важливі помилки та вразливості у великих кодових базах.

Для динамічного тестування не потрібен вихідний код програми, що робить його ідеальним для випадків, коли вихідний код недоступний. Він також ідентифікує конкретні випадки вразливості. Завдяки своєму підходу «чорної скриньки» без інструментів він з більшою ймовірністю виявить невеликі помилки. Інструментам динамічного тестування потрібне велике джерело тестових даних, генерування тестів вручну якого є непомірним. Існує багато інструментів, які автоматично генерують відповідні тестові дані, що веде до більш ефективного тестування безпеки та вищої якості результатів.

Виберіть відповідні інструменти на основі кількох факторів, включаючи глибину та точність перевірки, надійність і точність тестових випадків безпеки, доступну інтеграцію з іншими інструментами, модель використання та вартості тощо. Вибираючи інструменти, також використовуйте інформацію технічного персоналу, який знає питання безпеки так само добре, як і розробники та менеджери з розвитку та переглядають результати разом із зацікавленими сторонами.

##### Питання:
Чи скануєте ви програми за допомогою автоматизованих інструментів тестування безпеки?
##### Критерії якості:
- Ви динамічно генеруєте вхідні дані для тестів безпеки за допомогою автоматизованих інструментів.
- Ви обираєте інструменти тестування безпеки відповідно до архітектури та стеку технологій організації та збалансовуєте глибину й точність перевірки з зручністю використання результатів для організації.
##### Відповіді:
- Ні
- Так, деякі з них
- Так, принаймні половину
- Так, більшість або всі з них

---
#### Потік A: Масштабована базова лінія
Рівень зрілості 2
##### Вигода:
Виявлення специфічних для організації вразливостей, які легко знайти
##### Діяльність:
Підвищте ефективність автоматизованих інструментів тестування безпеки, налаштувавши їх для ваших конкретних стеків технологій і програм. Інструменти автоматизованого тестування безпеки мають 2 важливі характеристики: рівень помилкових спрацьовувань, тобто неіснуючі помилки та вразливості, про які вони неправильно повідомляють; їхній хибнонегативний показник, тобто фактичні помилки та вразливості, які вони не можуть виявити. Удосконалюючись у використанні інструментів автоматизованого тестування, ви прагнете мінімізувати кількість хибнопозитивних і хибнонегативних результатів. Це максимізує час, який групи розробників витрачають на перевірку та вирішення реальних проблем безпеки у своїх програмах, і зменшує тертя, зазвичай пов’язані з використанням неналаштованих автоматизованих інструментів аналізу безпеки.

Почніть із вимкнення підтримки інструментів для технологій і фреймворків, які ви не використовуєте, і націлюйтеся на конкретні версії, де це можливо. Це збільшить швидкість виконання та зменшить кількість повідомлених помилкових результатів. Покладіться на чемпіонів інструментів безпеки або спільні команди безпеки, щоб пілотувати інструменти в координації з вибраною групою мотивованих команд розробників. Це дозволить виявити ймовірні хибнопозитивні висновки, які слід проігнорувати або видалити з результатів інструментів. Визначте конкретні проблеми безпеки та антишаблони та виберіть найкращий інструмент для їх виявлення.

Використовуйте доступні функції інструменту для врахування специфічних для програми та організаційних стилів кодування, а також технічних стандартів. Багато автоматизованих інструментів статичного аналізу дозволяють користувачам писати власні правила або налаштовувати стандартні правила аналізу для конкретних інтерфейсів програмного забезпечення в тестованому проекті для підвищення точності та глибини охоплення. Наприклад, потенційно небезпечний вхідний матеріал (він же зіпсований) може бути позначений як безпечний після того, як він пройде через призначений спеціальний метод санітарної обробки.

Стратегічно краще надійно виявляти обмежену підмножину проблем безпеки за допомогою автоматизованих інструментів і поступово розширювати покриття, ніж намагатися виявити всі відомі проблеми негайно. Після того, як інструменти будуть достатньо налаштовані, вони можуть бути доступні для більшої кількості команд розробників. Важливо постійно відстежувати їх ефективність серед команд розробників. У більш просунутих формах можна застосувати методи машинного навчання, щоб ідентифікувати й автоматично відфільтровувати ймовірні помилкові спрацьовування в масштабі.
##### Питання:
Чи налаштовуєте ви автоматизовані інструменти безпеки для своїх програм і стеків технологій?
##### Критерії якості:
- Ви налаштовуєте та вибираєте функції інструменту, які відповідають вашій програмі чи технологічному набору.
- Ви зводите до мінімуму помилкові спрацьовування, заглушаючи або автоматично фільтруючи нерелевантні попередження або результати з низькою ймовірністю.
- Ви зводите до мінімуму помилкові негативи, використовуючи розширення інструментів або DSL, щоб налаштувати інструменти для вашої програми або стандартів організації.
##### Відповіді:
- Ні
- Так, деякі з них
- Так, принаймні половину
- Так, більшість або всі з них

---
#### Потік A: Масштабована базова лінія
Рівень зрілості 3
##### Вигода:
Виявлення вразливостей, що автоматично визначаються, на якомога ранніх стадіях.
##### Діяльність:
Проекти всередині організації регулярно запускають автоматизовані тести безпеки та переглядають результати під час розробки. Налаштуйте інструменти тестування безпеки для автоматичного запуску як частину процесу збірки та розгортання, щоб зробити це масштабованим із низькими накладними витратами. Перевіряйте знахідки в міру їх появи.

Проведення тестів безпеки ще на стадії розробки вимог або проектування може бути корисним. Хоча традиційно використовується для функціональних тестів, цей тип підходу до розробки, керованого тестуванням, передбачає ідентифікацію та виконання відповідних тестів безпеки на ранніх стадіях циклу розробки. Завдяки автоматичному виконанню тестів безпеки проекти переходять у фазу впровадження з низкою невдалих тестів на неіснуючу функціональність. Впровадження завершено, коли всі тести пройдено. Це забезпечує чітку, початкову мету для розробників на початку циклу розробки, знижуючи ризик затримок випуску через проблеми безпеки або вимушене прийняття ризику для дотримання термінів виконання проекту.

Зробіть видимими результати автоматизованих і ручних тестів безпеки на інформаційних панелях і регулярно представляйте їх керівництву та зацікавленим сторонам (наприклад, перед кожним випуском) для перегляду. Якщо є невирішені висновки, які залишаються прийнятними ризиками для випуску, зацікавлені сторони та менеджери з розробки працюють разом, щоб встановити конкретні часові рамки для їх усунення. Постійно переглядайте та покращуйте якість тестів безпеки.

Розглянемо та запровадимо інструменти кореляції тестів безпеки, щоб автоматизувати зіставлення та об’єднання результатів тестів із динамічних, статичних та інтерактивних сканерів додатків на одну центральну інформаційну панель, забезпечуючи прямі вхідні дані для управління дефектами. Поширюйте знання про створені тести безпеки та результати серед команди розробників, щоб покращити знання та обізнаність у сфері безпеки всередині організації.
##### Питання:
Чи інтегруєте ви автоматизоване тестування безпеки в процес створення та розгортання?
##### Критерії якості:
- Керівництво та бізнес-стейкхолдери відстежують і переглядають результати тестування протягом усього циклу розробки.
- Ви об’єднуєте результати тестування на центральну інформаційну панель і передаєте їх у систему керування дефектами.
##### Відповіді:
- Ні
- Так, деяке з нього
- Так, принаймні наполовину
- Так, більшість або все

---
#### Потік В: Глибоке розуміння
Рівень зрілості 1
##### Вигода:
Виявлення вразливостей у критичних компонентах, які можна визначити вручну.
##### Діяльність:
Виконайте вибіркове ручне тестування безпеки, можливо, використовуючи комбінацію інструментів статичного та динамічного аналізу, щоб спрямовувати або зосереджувати огляд, щоб більш ретельно проаналізувати частини програми як зловмисник. Автоматизовані інструменти ефективні для пошуку різних типів вразливостей, але ніколи не можуть замінити експертну перевірку вручну.

Уразливості на рівні коду в критично важливих для безпеки частинах програмного забезпечення можуть значно збільшити вплив, тому команди проекту перевіряють модулі високого ризику на наявність поширених уразливостей. Загальні приклади функціональних можливостей із високим ризиком включають модулі автентифікації, точки контролю доступу, схеми керування сеансами, зовнішні інтерфейси, а також засоби перевірки введення та аналізатори даних. Команди можуть поєднувати показники на рівні коду та цілеспрямоване автоматизоване сканування, щоб визначити, на чому краще зосередити свої зусилля. На практиці ця діяльність може приймати різні форми, включаючи парне програмування та експертну перевірку, обмежені в часі «штовхи» безпеки за участю всієї команди розробників або спонтанні незалежні перевірки членами спеціалізованої групи безпеки.

Під час циклів розробки, коли код із високим ризиком змінюється та переглядається, менеджери з розробки сортують висновки та належним чином визначають пріоритети виправлення за допомогою інших зацікавлених сторін проекту.
##### Питання:
Чи перевіряєте ви вручну якість безпеки вибраних високоризикових компонентів?
##### Критерії якості:
- Існують критерії, які допомагають рецензенту зосередитися на компонентах високого ризику.
- Кваліфікований персонал проводить перевірки відповідно до задокументованих інструкцій.
- Ви розглядаєте виявлені факти згідно з політикою організації щодо управління дефектами.
##### Відповіді:
- Ні
- Так, для деяких компонентів
- Так, як мінімум для половини компонентів
- Так, для більшості або всіх компонентів

---
#### Потік В: Глибоке розуміння
Рівень зрілості 2
##### Вигода:
Розуміння стійкості додатків з точки зору чорної скриньки.
##### Діяльність:
Використовуючи набір тестів безпеки, визначених для кожного проекту, проведіть тестування на проникнення вручну, щоб оцінити продуктивність системи щодо кожного випадку. Зазвичай це відбувається на етапі тестування перед випуском і включає як статичне, так і динамічне ручне тестування на проникнення. У випадках, коли програмне забезпечення не можна реалістично протестувати поза виробництвом, використання таких методів, як синьо-зелене розгортання або тестування A/B, може дозволити тестування безпеки у виробництві.

Випадки тестування на проникнення включають як специфічні для програми тести для перевірки надійності бізнес-логіки, так і загальні тести на вразливості для перевірки дизайну та впровадження. Після вказівки спеціалісти з контролю якості або розробки можуть виконувати тестові випадки безпеки. Центральна група безпеки програмного забезпечення відстежує перше виконання тестів безпеки для команди проекту, щоб допомогти та навчити командних чемпіонів безпеки.

Багато організацій пропонують програми «Bug Bounty», які запрошують дослідників безпеки знаходити вразливості в програмах і відповідально повідомляти про них в обмін на винагороду. Такий підхід дозволяє організаціям отримати доступ до більшої кількості талантів, особливо тих, у яких бракує достатнього внутрішнього потенціалу або які вимагають додаткової перевірки.

Перед випуском або масовим розгортанням зацікавлені сторони переглядають результати тестів безпеки та приймають ризики, на які вказує невдала перевірка безпеки під час випуску. Встановіть конкретний графік для усунення прогалин з часом. Поширюйте знання про ручне тестування безпеки та результати серед команди розробників, щоб покращити знання безпеки та обізнаність усередині організації.
##### Питання:
Чи проводите ви тестування на проникнення для своїх програм через регулярні проміжки часу?
##### Критерії якості:
- Тестування на проникнення використовує тестові випадки безпеки для конкретної програми для оцінки безпеки.
- Тестування на проникнення шукає як технічні, так і логічні проблеми в додатку.
- Зацікавлені сторони переглядають результати тестування та обробляють їх відповідно до правил управління ризиками організації.
- Тестування на проникнення проводить кваліфікований персонал.
##### Відповіді:
- Ні
- Так, для деяких програм
- Так, принаймні для половини програм
- Так, для більшості або всіх програм

---
#### Потік В: Глибоке розуміння
Рівень зрілості 3
##### Вигода:
Виявлення проблем безпеки, які можна визначити вручну, на якомога ранніх стадіях.
##### Діяльність:
Інтегруйте тестування безпеки паралельно з усіма іншими видами діяльності, включаючи аналіз вимог, проектування та створення програмного забезпечення.

З великою кількістю інструментів безпеки, що працюють на кожному етапі розробки, виправлення проблем безпеки на визначеному етапі (наприклад, тестування перед випуском) більше не є доцільним або бажаним. Проблеми безпеки необхідно швидко сортувати та планувати виправлення в компромісі між ризиком і вартістю виправлення. Постійне прагнення виявляти проблеми на ранніх етапах життєвого циклу розробки за допомогою спеціальних автоматизованих тестів із низьким рівнем тертя, інтегрованих у інструменти розробки та процеси збирання, знижує вартість виправлення, тим самим збільшуючи ймовірність швидкого вирішення проблем.

Завчасно вдосконалюйте тестування безпеки, інтегроване в процес розробки, адекватно поширюючи результати інших дій тестування безпеки. Наприклад, якщо тест на проникнення в систему безпеки виявить проблеми з керуванням сеансом, будь-які зміни в управлінні сеансом повинні ініціювати явні тести безпеки перед тим, як внести зміни в робочу версію.

Чемпіони безпеки та центральна група безпечного програмного забезпечення постійно перевіряють результати автоматизованих і ручних тестів безпеки під час розробки, включаючи ці результати в рамках тренінгів з питань безпеки для команд розробників. Інтегруйте отримані уроки в загальні посібники, щоб покращити тестування безпеки як частину розвитку організації. Якщо є невирішені висновки, які залишаються прийнятними ризиками для випуску, зацікавлені сторони та менеджери з розробки повинні працювати разом, щоб встановити конкретні часові рамки для їх усунення.
##### Питання:
Чи використовуєте ви результати тестування безпеки для покращення життєвого циклу розробки?
##### Критерії якості:
- Ви використовуєте результати інших дій безпеки для покращення інтегрованого тестування безпеки під час розробки.
- Ви переглядаєте результати тестів і включаєте їх у навчальні курси з питань безпеки та посібники з тестування безпеки.
- Зацікавлені сторони переглядають результати тестування та обробляють їх відповідно до правил управління ризиками організації.
##### Відповіді:
- Ні
- Так, але ми вдосконалюємо це по мірі необхідності
- Так, ми вдосконалюємо його регулярно
- Так, ми вдосконалюємо його принаймні щорічно

---
